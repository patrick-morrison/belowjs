<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BelowJS - Dark Minimal Viewer</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸŒŠ</text></svg>">
    
    <!-- BelowJS Core Styling -->
    <link rel="stylesheet" href="/src/styles/theme.css">
    <link rel="stylesheet" href="/src/styles/vr.css">
    <link rel="stylesheet" href="/src/styles/dive.css">
    
    <style>
        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background: #0f172a;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
        }
    </style>
</head>
<body>
    <!-- Model selector with dive mode toggle -->
    <div id="modelSelector">
        <select id="modelDropdown"></select>
        <div id="modeToggleContainer">
            <div class="semantic-toggle">
                <input type="checkbox" id="modeToggleSwitch">
                <div class="toggle-slider-bg"></div>
                <div class="toggle-option left">
                    <div class="toggle-icon">ðŸ“‹</div>
                    <div class="toggle-text">Survey</div>
                </div>
                <div class="toggle-option right">
                    <div class="toggle-icon">ðŸŒŠ</div>
                    <div class="toggle-text">Dive</div>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        import { ModelViewer } from '/src/index.js';

        // Model configuration
        const models = {
          'key_biscayne': { 
            url: '../basic-viewer/models/key_biscayne.glb', 
            name: 'Key Biscayne',
            initialPositions: {
              desktop: {
                camera: { x: 33.494, y: 36.42, z: -83.442 },
                target: { x: -3.602, y: -6.611, z: -23.97 }
              },
              vr: {
                dolly: { x: 0, y: 2, z: 15 },
                rotation: { x: 0, y: 0, z: 0 }
              }
            }
          },
          'kxi': { 
            url: '../basic-viewer/models/kxi.glb', 
            name: 'HNLMS K XI (1946)',
            initialPositions: {
              desktop: {
                camera: { x: -6.391, y: 12.461, z: -42.105 },
                target: { x: 1.529, y: 0.088, z: -14.334 }
              },
              vr: {
                dolly: { x: 0, y: 2, z: 15 },
                rotation: { x: 0, y: 0, z: 0 }
              }
            }
          },
          'sesa': { 
            url: '../basic-viewer/models/sesa.glb', 
            name: 'Sesa',
            initialPositions: {
              desktop: {
                camera: { x: 18.93, y: 11.572, z: 52.508 },
                target: { x: -1.613, y: -8.088, z: 4.822 }
              },
              vr: {
                dolly: { x: 0, y: 2, z: 15 },
                rotation: { x: 0, y: 0, z: 0 }
              }
            }
          },
          'unknown': { 
            url: '../basic-viewer/models/unknown.glb', 
            name: 'Unknown Wreck',
            initialPositions: {
              desktop: {
                camera: { x: 34.226, y: 10.354, z: 2.12 },
                target: { x: 10.959, y: -1.07, z: 2.247 }
              },
              vr: {
                dolly: { x: 0, y: 2, z: 15 },
                rotation: { x: 0, y: 0, z: 0 }
              }
            }
          }
        };

        // Create viewer container
        const viewerContainer = document.createElement('div');
        viewerContainer.style.position = 'fixed';
        viewerContainer.style.top = '0';
        viewerContainer.style.left = '0';
        viewerContainer.style.width = '100%';
        viewerContainer.style.height = '100%';
        viewerContainer.style.zIndex = '0';
        document.body.appendChild(viewerContainer);

        // Dark minimal viewer: just models, dive mode, and VR
        const viewer = new ModelViewer(viewerContainer, {
          models: models,
          enableDiveSystem: true,
          enableVR: true,  // Enable VR to show VR button
          showInfo: false,
          showStatus: false,
          showLoadingIndicator: false,
          viewerConfig: {
            scene: {
              background: { type: 'color', value: '#0f172a' }
            }
          }
        });
    </script>
</body>
</html>